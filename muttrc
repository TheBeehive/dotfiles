# ================  Performance and General ====================
# Store message headers locally to speed things up.
# If hcache is a folder, Mutt will create sub cache folders for each account which may speeds things up even more.
set header_cache = ~/.cache/mutt

# Store messages locally to speed things up, like searching message bodies.
# Can be the same folder as header_cache.
# This will cost important disk usage according to your e-mail amount.
set message_cachedir = "~/.cache/mutt"

# Specify where to save and/or look for postponed messages.
set postponed = +[Gmail]/Drafts

# How often to check for new mail (time in seconds).
set mail_check = 120

set mailcap_path = "~/.config/mutt/mailcap"

# ================  IMAP ====================
set imap_user = 'melanieplageman@gmail.com'
set imap_pass = `cat ~/.mutt/secret`
set folder = imaps://imap.gmail.com/
set spoolfile =+INBOX
set record="imaps://imap.gmail.com/[Gmail]/Sent Mail"
set postponed="imaps://imap.gmail.com/[Gmail]/Drafts"
set mbox="imaps://imap.gmail.com/[Gmail]/All Mail"

# Keep the IMAP connection alive by polling intermittently (time in seconds).
set imap_keepalive = 300
# Allow Mutt to open a new IMAP connection automatically.
unset imap_passive

mailboxes       =INBOX =pgsql-hackers =hyperv

# Alternatively, check for all subscribed IMAP folders (as if all were added with a mailboxes line):
set imap_check_subscribed

# ================  SMTP  ====================
set smtp_url = "smtp://melanieplageman@smtp.gmail.com:587/"
set smtp_pass = $imap_pass
set ssl_force_tls = yes # Require encrypted connection

# ================  Composition  ====================
set editor = `echo \$EDITOR`
set edit_headers = yes  # See the headers when editing
set charset = UTF-8     # value of $LANG; also fallback for send_charset
# Sender, email address, and sign-off line must match
unset use_domain        # because joe@localhost is just embarrassing
set realname = "Melanie Plageman"
set from = "melanieplageman@gmail.com"
set use_from = yes
set followup_to = no

# ================  Key Bindings ====================
bind pager j next-line
bind pager k previous-line
#bind attach,index,pager \CD next-page
#bind attach,index,pager \CU previous-page
bind pager g top
bind pager G bottom
bind attach,index g first-entry
bind attach,index G last-entry

bind index h noop
bind index g noop
bind pager g noop
bind pager h noop

# ================  Mailing Lists ====================
subscribe pgsql-hackers

source ~/.config/mutt/macros

# ================  Patch Review ====================
auto_view text/x-patch
auto_view text/x-diff
auto_view application/x-patch

# ================ Other ====================
unset help

set status_on_top

set status_format = '%D [Total: %m%<n? Unread: %n>%<F? Starred: %F>]%> (Sorted by %s then %S, %P)'

color status default brightblack

set index_format = '%@date@ %-16.16n â”‚%<M? *> %s%@unread@'

# Color the date of messages yellow
color index_date yellow default

# Format the date of a message as [hour on a 12 hour clock]:[minute] [AM/PM] if
# it's less than a day old
index-format-hook date '~d<1d' '%[%H:%M %p]'

# Format the date of a message as [abbreviated name of month] [day of month] if
# it's less than a year old
index-format-hook date '~d<1y' '  %[%b %d]'

# Otherwise, format the date of a message as [numeric month]/[numeric year with
# century]
index-format-hook date '~A'    ' %[%m/%Y]'

# Color the author of messages from me blue
color index_author blue default "~P"

# Color the author of messages address to me red
color index_author red default "~N ~p"

# Append * to the right of unread messages
index-format-hook unread '~N' '%* *'
